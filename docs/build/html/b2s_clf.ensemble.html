

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>b2s_clf.ensemble package &mdash; b2s_clf 0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="b2s_clf.sampler package" href="b2s_clf.sampler.html" />
    <link rel="prev" title="b2s_clf.dataset_transformer package" href="b2s_clf.dataset_transformer.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> b2s_clf
          

          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="b2s_clf.html">b2s_clf package</a></li>
<li class="toctree-l1"><a class="reference internal" href="b2s_clf.apps.html">b2s_clf.apps package</a></li>
<li class="toctree-l1"><a class="reference internal" href="b2s_clf.dataset_transformer.html">b2s_clf.dataset_transformer package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">b2s_clf.ensemble package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-b2s_clf.ensemble.ensemble_module">b2s_clf.ensemble.ensemble module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-b2s_clf.ensemble">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="b2s_clf.experiments.html">b2s_clf.experiments package</a></li>
<li class="toctree-l1"><a class="reference internal" href="b2s_clf.sampler.html">b2s_clf.sampler package</a></li>
<li class="toctree-l1"><a class="reference internal" href="b2s_clf.utils.html">b2s_clf.utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">b2s_clf</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">b2s_clf</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="b2s_clf.html">b2s_clf package</a> &raquo;</li>
        
      <li>b2s_clf.ensemble package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/b2s_clf.ensemble.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="b2s-clf-ensemble-package">
<h1>b2s_clf.ensemble package<a class="headerlink" href="#b2s-clf-ensemble-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-b2s_clf.ensemble.ensemble_module">
<span id="b2s-clf-ensemble-ensemble-module"></span><h2>b2s_clf.ensemble.ensemble module<a class="headerlink" href="#module-b2s_clf.ensemble.ensemble_module" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="b2s_clf.ensemble.ensemble_module.Ensemble">
<em class="property">class </em><code class="sig-prename descclassname">b2s_clf.ensemble.ensemble_module.</code><code class="sig-name descname">Ensemble</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">classifier_list</span></em>, <em class="sig-param"><span class="n">node_sizes</span></em>, <em class="sig-param"><span class="n">kwargs_list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/b2s_clf/ensemble/ensemble_module.html#Ensemble"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#b2s_clf.ensemble.ensemble_module.Ensemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class that builds an ensemble model and uses it to predict new batches of data. It fits a set of weak classifiers
on previously-sampled data and uses them to build a final voting classifier. These weak classifiers is any
arbitrary set of sklearn-like model objects that support the methods fit, predict and predict_proba.</p>
<dl class="py method">
<dt id="b2s_clf.ensemble.ensemble_module.Ensemble.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">target_variable</span></em>, <em class="sig-param"><span class="n">subject_df</span></em>, <em class="sig-param"><span class="n">subject_column</span></em>, <em class="sig-param"><span class="n">split_fraction</span><span class="o">=</span><span class="default_value">0.8</span></em>, <em class="sig-param"><span class="n">fit_variables</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_train_batches</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_test_batches</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">train_batch_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">test_batch_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">score_cap</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">get_best</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/b2s_clf/ensemble/ensemble_module.html#Ensemble.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#b2s_clf.ensemble.ensemble_module.Ensemble.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the ensemble with train and test batches by randomly picking couples and fitting a weak classifier from
a list provided by the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – pandas.DataFrame with signal data.</p></li>
<li><p><strong>target_variable</strong> – Target variable to fit the ensemble.</p></li>
<li><p><strong>subject_df</strong> – pandas.DataFrame with subject data.</p></li>
<li><p><strong>subject_column</strong> – subject ID columns in subject_df.</p></li>
<li><p><strong>split_fraction</strong> – Train/test sampling in batching process.</p></li>
<li><p><strong>fit_variables</strong> – Variable to consider upon fit.</p></li>
<li><p><strong>n_train_batches</strong> – Number of training batches.</p></li>
<li><p><strong>n_test_batches</strong> – Number of test batches.</p></li>
<li><p><strong>train_batch_size</strong> – Size of training batches.</p></li>
<li><p><strong>test_batch_size</strong> – Size of test batches.</p></li>
<li><p><strong>score_cap</strong> – Minimum accuracy of a weak classifier to be eligible.</p></li>
<li><p><strong>get_best</strong> – The number of best weak classifiers to keep.</p></li>
<li><p><strong>verbose</strong> – Whether to print progress on screen.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="b2s_clf.ensemble.ensemble_module.Ensemble.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/b2s_clf/ensemble/ensemble_module.html#Ensemble.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#b2s_clf.ensemble.ensemble_module.Ensemble.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Classifies the instances of a batch of data contained in pandas.DataFrame into the positive or negative classes
according to a certain probability threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – pandas.DataFrame containing the batch of data to be classified.</p></li>
<li><p><strong>threshold</strong> – Float between 0 and 1 stating the probability threshold to label an instance as positive.</p></li>
<li><p><strong>verbose</strong> – Whether to print progress on screen.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>class labels.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="b2s_clf.ensemble.ensemble_module.Ensemble.predict_proba">
<code class="sig-name descname">predict_proba</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/b2s_clf/ensemble/ensemble_module.html#Ensemble.predict_proba"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#b2s_clf.ensemble.ensemble_module.Ensemble.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the probabilities that the instances of a batch of data stored in a pandas.DataFrame belong to the
positive class. This data frame such contain compatible variable names. Note that the user will still have to
make sure that such names refer to the right variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – pandas.DataFrame with data to predict.</p></li>
<li><p><strong>verbose</strong> – Whether to print progress on screen.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>prediction probabilities.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-b2s_clf.ensemble">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-b2s_clf.ensemble" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="b2s_clf.sampler.html" class="btn btn-neutral float-right" title="b2s_clf.sampler package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="b2s_clf.dataset_transformer.html" class="btn btn-neutral float-left" title="b2s_clf.dataset_transformer package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Imanol Morata

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>